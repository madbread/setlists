(this.webpackJsonpredesign=this.webpackJsonpredesign||[]).push([[0],{51:function(e,t,n){},53:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var c=n(7),a=n.n(c),s=n(40),i=n.n(s),l=n(10),o=n(41),r=n(16),j=n(26),d=Object(o.a)({apiKey:"AIzaSyCQeCmX7ouzkQGwXDWqGHaKwXHZg6yZjgQ",authDomain:"madbread-setlists.firebaseapp.com",databaseURL:"https://madbread-setlists.firebaseio.com",projectId:"madbread-setlists",storageBucket:"madbread-setlists.appspot.com",messagingSenderId:"659663875433",appId:"1:659663875433:web:3a43234812cd2a9814e1f8"}),b=Object(r.b)(d),u=Object(r.d)(b,"data/songLists"),O=Object(r.d)(b,"data/songs"),h=Object(r.d)(b,"meta/instruments"),g={getSonglistsRef:function(){return u},getSongsRef:function(){return O},getInstrumentsRef:function(){return h},getSonglistRef:function(e){return Object(r.d)(b,"data/songLists/".concat(e))},getSonglistSongsRef:function(e){return Object(r.d)(b,"data/songLists/".concat(e,"/songs"))},login:function(e,t){var n=Object(j.a)();Object(j.c)(n,e,t).then((function(e){console.log("response: ",e),console.log("...you are signed in!")})).catch((function(e){var t=e.code,n=e.message;console.log(t,n)}))},logout:function(){var e=Object(j.a)();Object(j.d)(e).then((function(){return console.log("You have signed out")})).catch((function(e){return console.log("Error signing out: ",e)}))},getLoginObserver:function(e){var t=Object(j.a)();Object(j.b)(t,(function(t){e(t=t||{})}))}},m=n(2),f=n(35),v=function(){},x=(n(51),n(6)),p=function(e){return g.login(e.login_email,e.login_pass)},N=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(c.useState)(t),a=Object(l.a)(n,2),s=a[0],i=a[1];return{formData:s,handleSubmit:function(t){(null===t||void 0===t?void 0:t.preventDefault)&&(null===t||void 0===t||t.preventDefault()),e(s)},handleInputChange:function(e){(null===e||void 0===e?void 0:e.persist)&&e.persist(),i((function(t){return Object(f.a)(Object(f.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},handleReset:function(e){(null===e||void 0===e?void 0:e.preventDefault)&&(null===e||void 0===e||e.preventDefault()),i(t)},handleSetFormData:function(e){return i(e)}}}(p),t=e.formData,n=e.handleSubmit,a=e.handleInputChange;return Object(x.jsxs)("form",{className:"basic-form",onSubmit:n,children:[Object(x.jsx)("h3",{children:"Madbread Setlist App Login"}),Object(x.jsxs)("div",{className:"field-pair",children:[Object(x.jsx)("label",{htmlFor:"login_email",children:"Email "}),Object(x.jsx)("input",{type:"email",name:"login_email",id:"login_email",value:t.login_email||"",onChange:a})]}),Object(x.jsxs)("div",{className:"field-pair",children:[Object(x.jsx)("label",{htmlFor:"login_pass",children:"Password "}),Object(x.jsx)("input",{id:"login_pass",type:"password",name:"login_pass",value:t.login_pass||"",onChange:a})]}),Object(x.jsx)("button",{type:"submit",children:"login"})]})},S=(n(53),n(29)),k=function(){return Object(x.jsx)("nav",{children:Object(x.jsxs)("ul",{className:"nav nav-pills",children:[Object(x.jsx)("li",{children:Object(x.jsx)(S.b,{to:"/setlists",activeClassName:"active",isActive:function(e,t){return e||"/"===t.pathname},children:"Setlists"})}),Object(x.jsx)("li",{children:Object(x.jsx)(S.b,{to:"/songs",activeClassName:"active",children:"Songs"})})]})})},C=n(12),_=function(e){var t=e.editMode,n=e.setlist,c=e.songsMap,a=e.handleRemoveSong,s=e.showNate,i=e.showMike,o=e.showAdam,r=e.showCarl,j=e.highlight;return Object(x.jsx)("div",{className:"songlist-container",children:n&&Object(x.jsxs)("table",{className:"songlist",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"song-title"}),s&&Object(x.jsx)("th",{className:"name-col",children:"Nate"}),i&&Object(x.jsx)("th",{className:"name-col",children:"Mike"}),o&&Object(x.jsx)("th",{className:"name-col",children:"Adam"}),r&&Object(x.jsx)("th",{className:"name-col",children:"Carl"}),Object(x.jsx)("th",{className:"short-col song-key",children:"key"}),t&&Object(x.jsx)("th",{className:"short-col"})]})}),Object(x.jsx)("tbody",{children:Object.entries(n.songs).sort((function(e,t){return Object(l.a)(e,2)[1]-Object(l.a)(t,2)[1]})).map((function(e,n){var l=e[0];return Object(x.jsxs)("tr",{className:"color_".concat(c[l][j]||""),children:[Object(x.jsxs)("td",{className:"song-title",children:[n+1,") ",c[l].title]}),s&&Object(x.jsx)("td",{className:"name-col",children:c[l].nate}),i&&Object(x.jsx)("td",{className:"name-col",children:c[l].mike}),o&&Object(x.jsx)("td",{className:"name-col",children:c[l].adam}),r&&Object(x.jsx)("td",{className:"name-col",children:c[l].carl}),Object(x.jsx)("td",{className:"short-col song-key",children:c[l].key}),t&&Object(x.jsx)("td",{className:"short-col",children:Object(x.jsx)("button",{className:"remove-button",type:"button",onClick:function(){return a(l)},children:"X"})})]},l)}))})]})})},y=n(18),w=function(e){var t=e.filter,n=e.setFilter;return Object(x.jsx)("div",{className:"filter-container",children:Object(x.jsx)("input",{placeholder:"filter songs by title",type:"text",value:t,onChange:n})})},M=function(e){var t,n=e.songs,a=e.handleAddSong,s=Object(c.useState)(!1),i=Object(l.a)(s,2),o=i[0],r=i[1],j=Object(c.useState)(""),d=Object(l.a)(j,2),b=d[0],u=d[1],O=Object(c.useState)(Object(y.a)(n)),h=Object(l.a)(O,2),g=h[0],m=h[1],f=Object(c.useState)(Object(y.a)(g)),v=Object(l.a)(f,2),p=v[0],N=v[1],S=Object(c.useState)(null===(t=p[0])||void 0===t?void 0:t.id),k=Object(l.a)(S,2),C=k[0],_=k[1],M=function(){return o?Object(x.jsx)("div",{className:"input-container",children:Object(x.jsx)("select",{value:C,onChange:function(e){return _(e.target.value)},children:p.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.title},e.id)}))})}):null};return Object(x.jsxs)("div",{className:"add-song",children:[Object(x.jsxs)("div",{className:"controls",children:[Object(x.jsx)("button",{onClick:function(){return r(!o)},children:o?"cancel":"add song"}),Object(x.jsx)(M,{})]}),o&&Object(x.jsx)(w,{filter:b,setFilter:function(e){var t;if(u(e.target.value),(null===(t=e.target.value)||void 0===t?void 0:t.length)>1){var c,a=e.target.value.toLowerCase(),s=n.filter((function(e){return e.title.toLowerCase().includes(a)}));N(s),_(null===(c=s[0])||void 0===c?void 0:c.id)}else N(Object(y.a)(n))}}),o&&Object(x.jsx)("button",{type:"button",onClick:function(){var e;a(C);var t=g.filter((function(e){return e.id!==C}));m(t),N(Object(y.a)(t)),_(null===(e=t[0])||void 0===e?void 0:e.id),u("")},children:"save to list"})]})},R=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(null),i=Object(l.a)(s,2),o=i[0],j=i[1],d=Object(c.useState)([]),b=Object(l.a)(d,2),u=b[0],O=b[1],h=Object(c.useState)([]),m=Object(l.a)(h,2),f=m[0],v=m[1],p=Object(c.useState)(!1),N=Object(l.a)(p,2),S=N[0],k=N[1],C=Object(c.useState)(!1),y=Object(l.a)(C,2),w=y[0],R=y[1],F=Object(c.useState)(!1),E=Object(l.a)(F,2),L=E[0],A=E[1],D=Object(c.useState)(!1),B=Object(l.a)(D,2),I=B[0],G=B[1],H=Object(c.useState)(""),X=Object(l.a)(H,2),Q=X[0],z=X[1],J=Object(c.useState)({}),K=Object(l.a)(J,2),Z=K[0],q=K[1],P=Object(c.useState)({}),U=Object(l.a)(P,2),W=U[0],Y=U[1],T=Object(c.useState)(!0),V=Object(l.a)(T,2),$=V[0],ee=V[1],te=Object(c.useState)(!0),ne=Object(l.a)(te,2),ce=ne[0],ae=ne[1],se=function(e){return Object.entries(e.val()).map((function(e){var t=Object(l.a)(e,2),n=t[0],c=t[1];return c.id=n,c}))};if(Object(c.useEffect)((function(){Object(r.c)(g.getSonglistsRef(),(function(e){q(e.val());var t=se(e);O(t),ae(!1)})),Object(r.c)(g.getSongsRef(),(function(e){Y(e.val());var t=se(e);v(t),ee(!1)}))}),[]),ce||$)return Object(x.jsx)("p",{children:"Loading..."});null===o&&j(u[0].id);var ie=Object.keys(Z[o||u[0].id].songs),le=f.filter((function(e){return!ie.includes(e.id)})),oe=new Set;return""!==Q&&ie.forEach((function(e){return oe.add(W[e][Q])})),Object(x.jsxs)("div",{className:"page-setlist",children:[Object(x.jsxs)("div",{className:"list-selector",children:[Object(x.jsx)("div",{className:"select-container",children:Object(x.jsx)("select",{value:o,onChange:function(e){return j(e.target.value)},children:u.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.title},e.id)}))})}),Object(x.jsx)("button",{type:"button",onClick:function(){return a(!n)},children:n?"Edit Mode":"Read Only"})]}),Object(x.jsxs)("div",{className:"highlight-controls",children:[Object(x.jsx)("label",{htmlFor:"cb_nate",children:"Nate"}),Object(x.jsx)("input",{id:"cb_nate",type:"checkbox",checked:S,onChange:function(e){return k(e.target.checked)}}),Object(x.jsx)("label",{htmlFor:"cb_mike",children:"Mike"}),Object(x.jsx)("input",{id:"cb_mike",type:"checkbox",checked:w,onChange:function(e){return R(e.target.checked)}}),Object(x.jsx)("label",{htmlFor:"cb_adam",children:"Adam"}),Object(x.jsx)("input",{id:"cb_adam",type:"checkbox",checked:L,onChange:function(e){return A(e.target.checked)}}),Object(x.jsx)("label",{htmlFor:"cb_carl",children:"Carl"}),Object(x.jsx)("input",{id:"cb_carl",type:"checkbox",checked:I,onChange:function(e){return G(e.target.checked)}}),Object(x.jsxs)("select",{value:Q,onChange:function(e){return z(e.target.value)},children:[Object(x.jsx)("option",{value:"",children:"None"}),Object(x.jsx)("option",{value:"nate",children:"Nate"}),Object(x.jsx)("option",{value:"mike",children:"Mike"}),Object(x.jsx)("option",{value:"adam",children:"Adam"}),Object(x.jsx)("option",{value:"carl",children:"Carl"})]})]}),""!==Q&&Object(x.jsxs)("div",{className:"highlight-legend",children:[oe.has("Mandolin")&&Object(x.jsx)("span",{className:"color_Mandolin",children:"Mandolin"}),oe.has("Bass")&&Object(x.jsx)("span",{className:"color_Bass",children:"Bass"}),oe.has("Fiddle")&&Object(x.jsx)("span",{className:"color_Fiddle",children:"Fiddle"}),oe.has("Guitar")&&Object(x.jsx)("span",{className:"color_Guitar",children:"Guitar"}),oe.has("Electric")&&Object(x.jsx)("span",{className:"color_Electric",children:"Electric"}),oe.has("Banjo")&&Object(x.jsx)("span",{className:"color_Banjo",children:"Banjo"}),oe.has("Harmonica")&&Object(x.jsx)("span",{className:"color_Harmonica",children:"Harmonica"})]}),Object(x.jsx)(_,{editMode:n,setlist:Z[o],songsMap:W,handleRemoveSong:function(e){var t=g.getSonglistSongsRef(o);Object(r.a)(t).then((function(n){var c=n.val(),a=c[e];for(var s in delete c[e],c)c[s]>a&&c[s]--;Object(r.e)(t,c)}))},showNate:S,showMike:w,showAdam:L,showCarl:I,highlight:Q}),n&&Object(x.jsx)(M,{handleAddSong:function(e){var t=g.getSonglistSongsRef(o);Object(r.a)(t).then((function(n){var c=n.val(),a=Object.keys(Z[o].songs).length;c[e]=a,Object(r.e)(t,c)}))},songs:le})]})},F=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!0),i=Object(l.a)(s,2),o=i[0],j=i[1];return Object(c.useEffect)((function(){Object(r.c)(g.getSongsRef(),(function(e){var t=function(e){return Object.entries(e.val()).map((function(e){var t=Object(l.a)(e,2),n=t[0],c=t[1];return c.id=n,c}))}(e);a(t),j(!1)}))}),[]),o?Object(x.jsx)("p",{children:"Loading..."}):Object(x.jsx)("div",{className:"page-songs",children:Object(x.jsx)("div",{className:"songlist-container",children:Object(x.jsx)("ol",{className:"songlist",children:n.map((function(e){return Object(x.jsx)("li",{children:e.title},e.id)}))})})})},E=function(){return Object(x.jsx)("div",{className:"page-footer",children:Object(x.jsx)("button",{type:"button",onClick:g.logout,children:"logout"})})},L=function(){return Object(x.jsxs)("div",{className:"page",children:[Object(x.jsx)(k,{}),Object(x.jsxs)(C.c,{children:[Object(x.jsx)(C.a,{path:"/setlists",children:Object(x.jsx)(R,{})}),Object(x.jsx)(C.a,{path:"/songs",children:Object(x.jsx)(F,{})}),Object(x.jsx)(C.a,{path:"/",children:Object(x.jsx)(R,{})})]}),Object(x.jsx)(E,{})]})},A=(n(58),n(59),function(){var e=function(){var e=Object(c.useState)({}),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!0),i=Object(l.a)(s,2),o=i[0],r=i[1];return Object(c.useEffect)((function(){r(!0),g.getLoginObserver((function(e){a({name:e.email||"Guest",logged_in:!!e.email}),r(!1)}))}),[]),[o,n]}(),t=Object(l.a)(e,2),n=t[0],a=t[1];return n?Object(x.jsx)("div",{className:"loading",children:"loading..."}):a.logged_in?Object(x.jsx)(L,{}):Object(x.jsx)(N,{})});i.a.render(Object(x.jsx)(S.a,{children:Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(A,{})})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.65629d52.chunk.js.map